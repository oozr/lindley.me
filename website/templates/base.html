<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <!-- Early dark mode detection - must be placed before any other scripts or styles -->
  <script>
    (function() {
      const storedPreference = localStorage.getItem("darkMode");
      const hour = new Date().getHours();
      const isNightTime = hour >= 18 || hour <= 6;
      
      if (storedPreference === "enabled" || (storedPreference === null && isNightTime)) {
        document.documentElement.classList.add("dark-mode");
      }
    })();
  </script>

  <title>lindley.me</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='lindleyme_favicon.ico') }}" type="image/x-icon">
  <script src="{{ url_for('static', filename='scripts.js') }}" defer></script>
</head>

<body>
  <div class="container-fluid mt-5">
    <div class="row justify-content-center align-items-center">
      <div class="col-6 d-flex justify-content-center align-items-center">
        <a href="/">
          <img src="static/lindley_logo_blue.png" alt="Logo">
        </a>
        <div class="switch-container">
          <svg xmlns="http://www.w3.org/2000/svg" class="sun-icon" fill="none" viewBox="0 0 20 20" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
          <label class="switch">
            <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
            <span class="slider"></span>
          </label>
          <svg xmlns="http://www.w3.org/2000/svg" class="moon-icon" fill="none" viewBox="0 0 25 25" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </div>
      </div>
    </div>
  </div>
  
  {% block content %}
  {% endblock %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous" defer></script>
</body>
</html>